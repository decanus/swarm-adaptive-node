digraph{
	PSS [label="PSS spec",style="filled",fillcolor="lightblue"]
	BZZ [label="BZZ spec",style="filled",fillcolor="pink"]
	lightextension [label="direct retrieve and store protocol?",style="filled",fillcolor="yellow"]
	discovery [label="discovery protocol"]
	handshake [label="handshake protocol"]
	pssprotocol [label="PSS protocol"]
	overlay [label="swarm overlay address"]
	literaladdress [label="literal addressing"]
	proxaddress [label="proximity addressing"]
	psshandler [label="message handling"]
	stream [label="stream protocol"]
	lightdiscoverystrategy [label="lightnode connection strategy",style="filled",fillcolor="yellow"]
	bzzclientread [label="BZZ adaptive client read",style="filled",fillcolor="pink"]
	bzzclientrw [label="BZZ adaptive client readwrite",style="filled",fillcolor="pink"]
	bzzserver [label="BZZ adaptive client readwrite",style="filled",fillcolor="pink"]
	pssclient [label="PSS adaptive client",style="filled",fillcolor="lightblue"]
	
	overlay -> kademlia
	overlay -> handshake

	kademlia -> forwarding -> PSS
	pssprotocol -> PSS
	{literaladdress, proxaddress} -> psshandler -> PSS

	handshake -> BZZ
	lightdiscoverystrategy -> discovery
	kademlia -> discovery -> BZZ
	kademlia -> hive -> BZZ
	bmthasher -> filehasher
	{filehasher, db} -> storage
	filehasher -> stream
	stream -> lightextension
	{storage, stream, lightextension} -> BZZ
	bmthasher -> feeds -> BZZ

	BZZ -> bzzclientread
	BZZ -> bzzclientrw
	BZZ -> bzzserver
	PSS -> pssclient
}
